---
title: Create Email Notification for Tenant Details
sidebar: rdp_sidebar
permalink: api_create_email_notfn_tenant_details.html
folder: rdp
type: HowToAPI
---

{% include snippets/api_preview.md %}

{% include callout.html content="**Note**:
By default, **Datasynopsis** app is not enabled at the tenant level. You must request the [operations team](ops@syndigo.com) to enable this app. 
 " type="primary" %}

The data stored in the application is constantly being updated by various users. These users login to the application in different time zones and it becomes important to track their activities. You may require a report that generates the integration and user login details. This report can be generated by installing the **Datasynopsis** app. This is a core app used for processing the data and sending notifications to configured users. This app is enabled for each tenant based on the customer request.

The **Datasynopsis** app is mainly used for two activities:
* To extract data based on the configuration
* To send notifications to the configured users

<br/>

This topic describes how to use the RESTful API {TenantURL or ID}/api/configurationservice/create to create user specific email notification configuration for tenant details, using a scenario.

## Scenario

Consider a scenario where you wish to generate report of the tenant activities and share the same through an email to the configured users. Generally, an email has a template, based on which the details are displayed in the email. The config below is a sample template developed for the email:

{% include snippets/header.html %}

### Notification Config Request

To create the above configuration, use the REST API {{site.data.rdp_glossary.createconfig}}. In the request, send the following details:

{% include snippets/clientState.html %}
* configObject: In the [configObject](api_config_object_structure.html) object, provide the name and version. Specify the type as **notificationConfig**.

<pre>
<code>
POST **{TenantURL or ID}/api/configurationservice/create**
Headers: Content-Type: application/json
Body:
{
  "metaInfo": {
    "dataIndex": "config",
    "collectionName": "configObjects",
    "responseObjectName": "response"
  },
  "configObjects": [
    {
      <span style="background-color: #FFFF00">"id": "tenantSummaryReport_EntityReport_Default_notificationConfig", </span>
      <span style="background-color: #FFFF00">"name": "tenantSummaryReport_EntityReport_Default", </span>
      <span style="background-color: #FFFF00">"type": "notificationConfig", </span>
      "data": {
        "contexts": [
          {
            "context": {
              "app": "datasynopsis",
              "component": "report",
              "service": "report",
              "user": "_DEFAULT"
            },
            "attributes": {
              "emailAddress": {
                "values": [
                  {
                    "value": "john@syndigo.com",
                    "locale": "en-US",
                    "source": "internal"
                  }
                ]
              },
              "emailCCAddress": {
                "values": [
                  {
                    "value": "smith@syndigo.com",
                    "locale": "en-US",
                    "source": "internal"
                  }
                ]
              },
              "templateId": {
                "values": [
                  {
                    "value": "tenantSummaryReport_EntityReport_Default_templateConfig",
                    "locale": "en-US",
                    "source": "internal"
                  }
                ]
              },
              "digestemailenabled": {
                "values": [
                  {
                    "value": false,
                    "locale": "en-US",
                    "source": "internal"
                  }
                ]
              }
            }
          }
        ]
      }
    }
  ]
}
</code>
</pre>

### Template Config Request

Following json is **smith@syndigo.com** user specific Template Configuration.
* detailSections: Lists the sections that are enabled for notification. By default, the following are configured "UserDetails", "EntityDetails", "IntegrationDetails",  "ModelDetails", and "PolicyLimitDetails". You can delete any of the tenant details in the config to disable the notification.

<pre>
<code>
{
  "configObject": {
    "id": "tenantSummaryReport_EntityReport_Default_templateConfig",
    "name": "tenantSummaryReport_EntityReport_Default_templateConfig",
    "type": "templateConfig",
    "data": {
      "contexts": [
        {
          "context": {
            "app": "datasynopsis",
            "component": "report",
            "service": "report",
            "user": "_DEFAULT"
          },
          "attributes": {
            "mailSubject": {
              "values": [
                {
                  "value": "@@TENANT@@ Tenant Summary As On @@Date",
                  "locale": "en-US",
                  "source": "internal"
                }
              ]
            },
            "detailSections": {
              "values": [
                {
                  "value": "UserDetails",
                  "locale": "en-US",
                  "source": "internal"
                },
                {
                  "value": "EntityDetails",
                  "locale": "en-US",
                  "source": "internal"
                },
                {
                  "value": "IntegrationDetails",
                  "locale": "en-US",
                  "source": "internal"
                },
                {
                  "value": "ModelDetails",
                  "locale": "en-US",
                  "source": "internal"
                },
                {
                  "value": "PolicyLimitDetails",
                  "locale": "en-US",
                  "source": "internal"
                }
              ]
            },
            "mailHeader": {
              "values": [
                {
                  "value": "Below are the Tenant summary Details",
                  "locale": "en-US",
                  "source": "internal"
                }
              ]
            },
            "mailFooter": {
              "values": [
                {
                  "value": "<p style='Montserrat,sans-serif;font-size:12pt;color:#1F497D'><b>Regards,</b></p><p style='Montserrat,sans-serif;font-size:12pt;color:#1F497D'><b>Data Team</b></p>",
                  "locale": "en-US",
                  "source": "internal"
                }
              ]
            }
          }
        }
      ]
    }
  }
}
</code>
</pre>

<br>

In the **detailSection**:
* Mention the **User Details** for whom the mail must be delivered. This includes email ID.
* Mention the data details such entity level information, model level information, integration details and so on. Based on this the reports are generated. Incase you dont specify any one of them, the same will not be included in the email.

The email is delivered once in a day during the non-business hours. A sample screenshot of the email is given below:

{% picture email-notification.png alt="Email Notification" %}