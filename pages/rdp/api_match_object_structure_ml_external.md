---
title: Machine-Learning (ML) based Match Object Structure
sidebar: rdp_sidebar
permalink: api_match_object_structure_ml.html
folder: rdp
type: HowToAPI
---

{% include snippets/api_preview.md %}

ML based match configuration is a JSON configuration that is used to perform a near perfect match when Deterministic match finds no match records. Typically, used for the attributes such as Vendor Name, Vendor Address. It contains the following details:

* **domain**: Indicates domain for which match is performed. Currently, only **Party** domain is supported.

* [matchThreshold](#matchthreshold): Indicates maximum number of records to return with a minimum probability value as specified.

* [attributeMapping](#attributemapping): Indicates the mapping of attributes between the source (incoming data) and target records (Match Store Data). The following pre-defined families exists in the target record: 
    * system_businessname
    * system_alternatename
    * system_address
    * system_phonenumber
    * system_universalbusinessnumber
    * system_country
    * system_zipcode 
     
This is based on the fact that for a party domain, matching is generally performed on these families. Each of these families is an array that can map to multiple attributes from the source record. 

{% include callout.html content="**Note:** Family names are pre-defined and must not be altered.
" type="primary" %}

This topic describes the ML based Match Configuration Object Structure using a sample scenario. 

## Scenario

Consider you wish to create a ML based match configuration to match vendor details. The following example demonstrates the sample JSON format to create a configuration for matching:

<pre><code>
{% raw %}
POST **{{site.data.rdp_glossary.createconfig}}**
Headers: Content-Type: application/json
Body:
{
  "id": "organization_mlMatchConfig",
  "name": "organization",
  "type": "mlMatchConfig",
  "data": {
    "jsonData": {
      "domain": "party",
      "matchThreshold": {
        "max_result": 5,
        "probability": 0.3
      },
      "locales": [
        "fr-FR",
        "en-US"
      ],
      "attributeMapping": {
        <span style="background-color: #FFFF00">"system_businessname": [
          "orgname"
        ],
        "system_alternatename": [
          "alternatename",
          "label"
        ],
        "system_address": [
          "address/otheraddressstreet",
          "address/otheraddresscity"
        ],
        "system_country": [
          "address/otheraddressstate",
          "address/otheraddresscountry"
        ],
        "system_zipcode": [
          "address/otheraddresszipcode"
        ],
        "system_datetime": [],
        "system_phonenumber": [
          "phone"
        ],
        "system_universalbusinessnumber": [
          "companyid",
          "dunsnumber",
          "siccode"</span>
        ]
      }
    }
  }
}
{% endraw %}
</code></pre> 

## configObject 

This object is the parent container holding all the required information about the configuration object. The following table lists the details of the configuration object:

| Property | Description | Type | Required |
|----------|-------------|------|----------|
| id | Indicates the unique identifier of the configuration. ID is alpha-numeric with a maximum length of 128 characters. If it is not provided, then id is generated by the platform. ID can contain underscore(_). For easy understanding, you can define id as <<entityType>>_matchConfig| String | Yes |
| name | Indicates the name of the configuration. Name can contain underscore(_), spaces, and alpha-numeric with a maximum length of 256 characters. Name can be duplicate. | String | Yes |
| type | Indicates the configuration type. The supported type is "mlMatchConfig". | String | Yes |
| data | Indicates the details about ML match such as domain, match threshold, and the source to target attribute mappings. |[data](#data) | Yes |

## data

The following table lists the details of the data object:

| Property | Description | Type |  Required |
|----------|-------------|------|------------|
| domain | Indicates domain for which match is performed. Currently, only **Party** domain is supported. | String | Yes |
| matchThreshold | Indicates maximum number of records to return with a minimum probability value as specified. | [matchThreshold](#matchthreshold) | Yes |
| attributeMapping | Indicates the mapping of attributes between the source (incoming data) and target records (Match Store data). | [attributeMapping](#attributemapping) | Yes |

## matchThreshold

You must specify the following properties in matchThreshold:

| Property | Description | Type | Required |
|----------|-------------|------|----------|
| max_result | Indicates the maximum number of match results to be returned. | Integer | Yes |
| probability | Indicates minimum probability of match between source and target record. | Integer | Yes |

Data for sample [Scenario](#scenario): Set the following properties:

| Property | Value | 
|----------|-------------|
| max_result | 5 |
| probability | 0.7|

## attributeMapping

In this section, you specify the mapping between the source and target records in Match Store. **Example**: You can map system_businessname to vendordisplayname or given_name. Each family in the Match Store data can be mapped to multiple fields of target records in a comma separated list.

The following families are supported in Match Store:
* **system_businessname**: Used for matching first name, product name in source records.
* **system_address**: Used for matching shipping, billing address details in source records.
* **system_phonenumber**: Used for matching phone number in source records.
* **system_universalbusinessnumber**: Used for identifier such as SSN, Aadhar number in source records.
* **system_country**: Used for matching country details in source records.
* **system_zipcode**: Used for matching zipcode in source records.
* **system_alternatename**: Used for matching altername